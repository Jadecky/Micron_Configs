[gcode_macro poop]
gcode:
    {% if "xyz" not in printer.toolhead.homed_axes %}
        G28
    {% endif %}

    SET_CHAMBER_LIGHTS_ON
    SET_NOZZLE_LIGHTS_ON
    G90                            ; absolute positioning  
    G1 E4.0 F3600
    G1 Z20 F3000                   ; move nozzle away from bed
    G1 X70 Y172 Z5.0 F5000.0        ; Move to start position
    SET_HEATER_TEMPERATURE HEATER=extruder TARGET=260
    TEMPERATURE_WAIT SENSOR="extruder" MINIMUM=260     ; Waits for nozzle to reach desired temp
    M106 S64
    G1 X70 Y172 Z0.0 F5000.0        ; Move to start position
    G1 X70 Y172 Z9 E50 F30
    G1 E-0.8 F300
    M106 S255
    G4 P7500
    M106 S0 
    G1 X90 Y142 Z9 F5000
    G1 Z0.4
    G1 X90 Y179 Z0.4 F3600
    CLEAN_NOZZLE
    G1 X90 Y165 Z25 F3600
